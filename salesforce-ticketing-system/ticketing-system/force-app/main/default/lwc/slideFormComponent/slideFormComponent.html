<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 03-10-2025
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <template if:true={isOpen}>
        <div class="drawer-backdrop" onclick={closeDrawer}></div>

        <div class="drawer-container">
            <button class="close-btn" onclick={closeDrawer}>âœ–</button>

            <!-- Ticket Form inside the Drawer -->
            <p class="slds-text-heading_medium slds-m-around_medium">Create ticket</p>

            <lightning-card title="Create a Ticket">
                <div class="slds-p-around_medium">
                    <!-- Department (Picklist) -->
                    <lightning-combobox
                        label="Department"
                        value={selectedDepartment}
                        placeholder="Select a department"
                        options={departmentOptions}
                        onchange={handleDepartmentChange}>
                    </lightning-combobox>

                    <!-- Ticket Name -->
                    <lightning-input
                        label="Ticket Name"
                        value={ticketName}
                        onchange={handleNameChange}>
                    </lightning-input>

                    <!-- Ticket Description -->
                    <lightning-textarea
                        label="Ticket Description"
                        value={ticketDescription}
                        onchange={handleDescriptionChange}>
                    </lightning-textarea>

                    <!-- File Upload (JPG, PNG only) -->
                    <lightning-file-upload
                        label="Upload Image"
                        name="fileUploader"
                        accept=".jpg, .png"
                        record-id={recordId}
                        onchange={handleFileUpload}>
                    </lightning-file-upload>

                    <!-- Save Button -->
                    <lightning-button
                        label="Save Ticket"
                        variant="brand"
                        onclick={handleSave}>
                    </lightning-button>
                </div>
            </lightning-card>
        </div>
    </template>
</template>
